@model List<WEBDOAN.Models.SiteSetting>

@functions {
    string Get(string key, string fallback = "") =>
        Model?.FirstOrDefault(s => s.Key == key)?.Value ?? fallback;
}

@{
    var bannerTitle = Get("BannerTitle", "Tiêu đề mặc định");
    var bannerSubtitle = Get("BannerSubtitle", "Phụ đề mặc định");

    var hotline = Get("Hotline", "Chưa có số");
    var facebook = Get("FacebookUrl", "#");
    var instagram = Get("InstagramUrl", "#");

    var companyName = Get("CompanyName", "Tên công ty chưa có");
    var foundedYear = Get("FoundedYear", "Năm chưa rõ");
    var mission = Get("Mission", "Chưa có sứ mệnh");
    var address = Get("Address", "Chưa có địa chỉ");
    var email = Get("Email", "Chưa có email");
    var workingHours = Get("WorkingHours", "Chưa có giờ làm việc");
    var footerText = Get("FooterText", "Đặt Là Có Ăn là Ghiền");
    var footerCopyright = Get("FooterCopyright", "© 2025 – Đặt Là Có Ăn là Ghiền");
    var footerNote = Get("FooterNote", "");
}

<div class="company-footer text-light py-4 bg-dark">
    <div class="container">
        <!-- Banner hiển thị -->
        <div class="text-center mb-4">
            <h2>@bannerTitle</h2>
            <p class="lead">@bannerSubtitle</p>
        </div>

        <!-- Form chỉnh sửa banner -->
        <form asp-action="UpdateBanner" method="post" class="mb-5 bg-secondary p-3 rounded">
            <h5 class="text-light">Chỉnh sửa nội dung banner</h5>
            <div class="mb-3">
                <label class="form-label text-light">Tiêu đề</label>
                <input type="text" name="BannerTitle" value="@bannerTitle" class="form-control" />
            </div>
            <div class="mb-3">
                <label class="form-label text-light">Phụ đề</label>
                <input type="text" name="BannerSubtitle" value="@bannerSubtitle" class="form-control" />
            </div>
            <button type="submit" class="btn btn-warning">Cập nhật</button>
        </form>

        <!-- Footer thông tin -->
        <div class="row text-center text-md-start">
            <div class="col-md-4 d-flex flex-column mb-3">
                <p><i class="fas fa-building me-2"></i><strong>@companyName</strong> (Thành lập: @foundedYear)</p>
                <p><i class="fas fa-bullseye me-2"></i>Sứ mệnh: @mission</p>
            </div>
            <div class="col-md-4 d-flex flex-column mb-3">
                <p><i class="fas fa-map-marker-alt me-2"></i>Địa chỉ: @address</p>
                <p><i class="fas fa-envelope me-2"></i>Email: <a href="mailto:@email" class="text-light text-decoration-underline">@email</a></p>
            </div>
            <div class="col-md-4 d-flex flex-column mb-3">
                <p><i class="fas fa-clock me-2"></i>Giờ làm việc: @workingHours</p>
                <p><i class="fas fa-phone-alt me-2"></i><strong>Hotline:</strong> @hotline</p>
                <p>
                    <i class="fab fa-facebook me-2"></i><a href="@facebook" target="_blank" class="text-light text-decoration-underline">Facebook</a><br />
                    <i class="fab fa-instagram me-2"></i><a href="@instagram" target="_blank" class="text-light text-decoration-underline">Instagram</a>
                </p>
            </div>
        </div>

        <hr class="bg-light" />
        <div class="text-center mt-3">
            <p>@footerText</p>
            <p>@footerCopyright</p>
            @if (!string.IsNullOrWhiteSpace(footerNote))
            {
                <p><em>@footerNote</em></p>
            }
        </div>
    </div>
</div>
